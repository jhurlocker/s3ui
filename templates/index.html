{% extends "base.html" %}
{% block content %}
<h2>S3 Buckets</h2>

<div class="card mb-4">
    <div class="card-header">
        Create a New Bucket
    </div>
    <div class="card-body">
        <form action="{{ url_for('create_bucket') }}" method="post">
            <div class="input-group">
                <input type="text" class="form-control" name="bucket_name" placeholder="Enter new bucket name" required>
                <button type="submit" class="btn btn-primary"><i class="fas fa-plus-circle"></i> Create Bucket</button>
            </div>
        </form>
    </div>
</div>

<ul class="list-group">
    {% for bucket in buckets %}
    <li class="list-group-item d-flex justify-content-between align-items-center">
        {{ bucket }}
        <span>
            <a href="{{ url_for('view_bucket', bucket_name=bucket) }}" class="btn btn-sm btn-outline-primary"><i class="fas fa-eye"></i> View Contents</a>
            <form action="{{ url_for('delete_bucket', bucket_name=bucket) }}" method="post" class="d-inline">
                <button type="submit" class="btn btn-sm btn-outline-danger" onclick="return confirm('Are you sure you want to delete this bucket?')"><i class="fas fa-trash-alt"></i> Delete</button>
            </form>
        </span>
    </li>
    {% else %}
    <li class="list-group-item">No buckets found.</li>
    {% endfor %}
</ul>
{% endblock %}